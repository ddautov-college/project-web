<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Список студентов</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f3f3f3; padding:24px; }
    h2 { text-align:center; }
    table { margin:24px auto; border-collapse:collapse; background:#fff;
            box-shadow:0 6px 20px rgba(0,0,0,.08); }
    th, td { padding:12px 16px; border:1px solid #e5e5e5; }
    th { background:#4CAF50; color:#fff; }
    tr:nth-child(even) { background:#fafafa; }
    .topbar { text-align:center; margin-top:8px; }
    .btn { display:inline-block; margin:8px; padding:10px 18px; border-radius:8px;
           text-decoration:none; color:#fff; background:#4CAF50; }
    .btn:hover { background:#45a049; }
    form.inline { display:inline; margin:0; }
    button.danger { background:#f44336; border:none; padding:8px 12px; color:#fff; border-radius:6px; cursor:pointer; }
    button.danger:hover { background:#d7392e; }
  </style>
</head>
<body>
  <h2>Список зарегистрированных студентов</h2>

  {% if students %}
    <table>
      <tr>
        <th>ID</th>
        <th>Имя</th>
        <th>Фамилия</th>
        <th>Дата рождения</th>
        <th>Email</th>
        <th>Пол</th>
        <th>Факультет</th>
        <th></th>
      </tr>
      {% for s in students %}
      <tr>
        <td>{{ s.id }}</td>
        <td>{{ s.first_name }}</td>
        <td>{{ s.last_name }}</td>
        <td>{{ s.dob }}</td>
        <td>{{ s.email }}</td>
        <td>{{ s.gender }}</td>
        <td>{{ s.faculty }}</td>
        <td>
          <form class="inline" action="{{ url_for('delete_student', student_id=s.id) }}" method="post" onsubmit="return confirm('Удалить запись {{ s.first_name }} {{ s.last_name }}?');">
            <button class="danger" type="submit">Удалить</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </table>
  {% else %}
    <p style="text-align:center;">Пока записей нет.</p>
  {% endif %}

  <div class="topbar">
    <a class="btn" href="{{ url_for('index') }}">Вернуться к форме</a>
  </div>
</body>
</html>
